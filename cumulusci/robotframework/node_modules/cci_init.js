const fs = require('fs')

// why does this work here, but not in my page object file?
//const cci = require('cumulusci')

// this isn't right; it probably needs to be /robot/<project>/node_modules
var node_modules_dir = process.env.PWD + "/robot/node_modules";

if (fs.existsSync(node_modules_dir)) {
    // Should I put this in a try/catch? If I don't, we get a slightly
    // useful stacktrace in the log, though it's a python stacktrace
    // rather than a javascript one.
    exports.__esModule = true;
    module.exports = {
        ...require(node_modules_dir),
    }

} else {
    // this will show up in playwright-log.txt, alongside log.html
    console.info(`no javascript keyword folder found: ${node_modules_dir}`)
}
